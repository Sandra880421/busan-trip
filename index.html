
<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>é‡œå±±ãƒ»æ…¶å· 8æ—¥è¡Œç¨‹ï½œ2026/6/21â€“6/28</title>
  <style>
    :root{
      --bg:#0b1220;
      --text:#e9eefc;
      --muted:#a9b4d6;
      --line:rgba(255,255,255,.12);
      --accent:#7aa7ff;
      --good:#61d095;
      --warn:#ffcc66;
      --bad:#ff7a7a;
      --chip:rgba(122,167,255,.15);
      --shadow: 0 14px 40px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
      "PingFang TC","Noto Sans TC","Microsoft JhengHei",sans-serif;
      background: radial-gradient(1200px 600px at 20% -10%, rgba(122,167,255,.25), transparent 55%),
                  radial-gradient(900px 500px at 100% 0%, rgba(97,208,149,.18), transparent 60%),
                  var(--bg);
      color:var(--text);
    }
    header{padding:26px 18px 10px; max-width:1080px; margin:0 auto;}
    h1{margin:0; font-size:22px; letter-spacing:.3px}
    .sub{color:var(--muted); margin-top:6px; line-height:1.5}
    .chips{display:flex; gap:8px; flex-wrap:wrap; margin-top:12px}
    .chip{padding:7px 10px; border:1px solid var(--line); background:var(--chip); border-radius:999px; font-size:12px;}
    .title{display:flex; gap:12px; align-items:flex-start; flex-wrap:wrap; justify-content:space-between;}
    .tabs{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
    .tab{
      padding:10px 12px; border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      cursor:pointer; user-select:none;
      font-size:13px;
    }
    .tab.active{
      border-color: rgba(122,167,255,.55);
      background: rgba(122,167,255,.16);
      font-weight:700;
    }
    .toggleRow{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:12px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--text);
      cursor:pointer;
      user-select:none;
    }
    .btn:hover{background: rgba(255,255,255,.07)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{border-color: rgba(122,167,255,.45); background: rgba(122,167,255,.12)}
    .btn.good{border-color: rgba(97,208,149,.45); background: rgba(97,208,149,.12)}
    .btn.bad{border-color: rgba(255,122,122,.45); background: rgba(255,122,122,.12)}

    main{max-width:1080px; margin:0 auto; padding:16px 18px 40px}
    .page{display:none}
    .page.active{display:block}

    .grid{display:grid; gap:14px; grid-template-columns: 1.1fr .9fr; align-items:start;}
    @media (max-width: 980px){ .grid{grid-template-columns:1fr} }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .card h2{
      margin:0; font-size:16px; padding:14px 16px;
      border-bottom:1px solid var(--line);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .card .body{padding:14px 16px}

    details{border-top:1px solid var(--line); background: rgba(0,0,0,.12);}
    summary{list-style:none; cursor:pointer; padding:14px 16px; display:flex; gap:12px; align-items:flex-start;}
    summary::-webkit-details-marker{display:none}
    .dayBadge{
      width:48px; height:48px; border-radius:14px;
      display:grid; place-items:center;
      border:1px solid var(--line);
      background: rgba(122,167,255,.14);
      font-weight:700;
      flex:0 0 auto;
    }
    .dayTitle{font-weight:700; margin:0}
    .dayMeta{margin-top:4px; color:var(--muted); font-size:12px}
    .pillRow{display:flex; gap:8px; flex-wrap:wrap; margin-top:6px}
    .pill{
      font-size:12px; padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background: rgba(255,255,255,.04);
      color: var(--text);
    }
    .pill.good{border-color: rgba(97,208,149,.35); background: rgba(97,208,149,.10)}
    .pill.warn{border-color: rgba(255,204,102,.35); background: rgba(255,204,102,.10)}
    .dayBody{padding:0 16px 16px; display:grid; gap:10px;}
    .bullets{margin:0; padding-left:18px; line-height:1.6}
    .notice{
      border-left:3px solid rgba(255,204,102,.8);
      padding:10px 12px; border-radius:14px;
      background: rgba(255,204,102,.08);
      line-height:1.6;
    }
    .ok{border-left-color: rgba(97,208,149,.85); background: rgba(97,208,149,.08);}
    .danger{border-left-color: rgba(255,122,122,.85); background: rgba(255,122,122,.08);}
    .muted{color:var(--muted)}
    .small{font-size:12px}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace}
    .sep{height:1px; background:var(--line); margin:12px 0}
    .twoCol{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    @media (max-width: 740px){ .twoCol{grid-template-columns:1fr} }
    .kvs{display:grid; gap:10px; grid-template-columns: 1fr 1fr;}
    @media (max-width: 520px){ .kvs{grid-template-columns:1fr} }
    .kv{padding:12px; border:1px solid var(--line); border-radius:14px; background: rgba(0,0,0,.18);}
    .kv .k{font-size:12px; color:var(--muted)}
    .kv .v{margin-top:6px; font-size:14px; line-height:1.35}

    table{
      width:100%; border-collapse:collapse; overflow:hidden;
      border-radius:14px; border:1px solid var(--line);
      background: rgba(0,0,0,.16);
    }
    th,td{padding:10px 10px; border-bottom:1px solid var(--line); text-align:left; font-size:13px; vertical-align:top}
    th{color:var(--muted); font-weight:600}
    tr:last-child td{border-bottom:none}
    .right{text-align:right}
    .center{text-align:center}
    .nowrap{white-space:nowrap}

    /* Inputs */
    input, select, textarea{
      width:100%;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--text);
      outline:none;
      font-size:13px;
    }
    textarea{min-height:80px; resize:vertical}
    .expense-grid{display:grid; gap:12px; grid-template-columns: 1.1fr .9fr; align-items:start;}
    @media (max-width: 980px){ .expense-grid{grid-template-columns:1fr} }
    .foot{padding:14px 16px; border-top:1px solid var(--line); color:var(--muted); font-size:12px;}
  </style>
</head>

<body>
<header>
  <div class="title">
    <div>
      <h1>	&#127472;&#127479;  é‡œå±±ãƒ»æ…¶å· 8æ—¥è‡ªç”±è¡Œå•¦~&#128526</h1>
      <div class="sub">2026/6/21ï¼ˆæ—¥ï¼‰18:00 æŠµé” â†’ 2026/6/28ï¼ˆæ—¥ï¼‰19:10 èµ·é£›ï½œ6ä½å¿«æ¨‚ã®å¤§äºº&#128512</div>
      <div class="chips">
        <span class="chip">&#127968 ä½å®¿é †åºï¼šæµ·é›²å° 3æ™š â†’ æ…¶å· 2æ™š â†’ è¥¿é¢ 2æ™š</span>
        <span class="chip">&#127968 æ…¶å·åœç•™ï¼š3å¤©ï¼ˆ6/24-26ï¼‰</span>
        <span class="chip">&#128665 ç§Ÿè»Šï¼š3å¤©ï¼ˆ6/24å–è»Š â†’ 6/26é‚„è»Šï¼‰</span>
        <span class="chip">&#128663 é‡œå±±å¸‚å€ç§»å‹•ï¼šå¸‚å€è¨ˆç¨‹è»Š</span>
      </div>

     <div class="tabs" role="tablist" aria-label="Pages">
  <div class="tab active" data-page="page-itinerary" role="tab">ğŸ—ºï¸ è¡Œç¨‹</div>
  <div class="tab" data-page="page-expenses" role="tab">ğŸ§¾ è²»ç”¨æ˜ç´°</div>
  <div class="tab" data-page="page-flights" role="tab">âœˆï¸ ç­æ©Ÿè³‡è¨Š</div>
</div>

    </div>

    <div class="toggleRow">
      <button class="btn primary" id="expandAll">å±•é–‹å…¨éƒ¨</button>
      <button class="btn" id="collapseAll">æ”¶åˆå…¨éƒ¨</button>
      <button class="btn good" id="print">åˆ—å°/å­˜PDF</button>
    </div>
  </div>
</header>

<main>
  <!-- PAGE 1: ITINERARY -->
  <section class="page active" id="page-itinerary">
    <div class="grid">
      <section class="card" id="itineraryCard">
        <h2>è¡Œç¨‹ç¸½è¦½ <span class="muted small">ï¼ˆéš¨æ™‚å¯ä»¥æ©Ÿå‹•æ€§èª¿æ•´ï¼‰</span></h2>

        <details open>
          <summary>
            <div class="dayBadge">D1</div>
            <div>
              <p class="dayTitle">6/21ï¼ˆæ—¥ï¼‰æŠµé”é‡œå±±ï½œ&#11088 ä¼‘æ¯ä¼‘æ¯å……å……é›»ï½œæµ·é›²å° ç¬¬1æ™š</p>
              <div class="dayMeta">18:00 æŠµé” â†’ é£¯åº— â†’ æ™šé¤ â†’ ä¼‘æ¯</div>
              <div class="pillRow"><span class="pill good">æ©Ÿå ´é£¯åº—æ¥é§(?)</span><span class="pill warn">ç·©è¡æ—¥</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">
              <li>æ©Ÿå ´ â†’ æµ·é›²å°é£¯åº—ï¼šäº¤é€šå·¥å…·å¾…å®šã€‚</li>
              <li>&#127860 æ™šé¤ : å¯†é™½è¡€è…¸è±¬è‚‰æ¹¯é£¯ã€‚ </li>
              <li>ClubD Oasisæ±—è’¸å¹•ã€‚</li>              
            </ul>
          </div>
        </details>

        <details>
          <summary>
            <div class="dayBadge">D2</div>
            <div>
              <p class="dayTitle">6/22ï¼ˆä¸€ï¼‰æµ·é›²å°æ…¢æ´»ï½œ&#11088 é‡œå±±PASSï½œæµ·é›²å° ç¬¬2æ™š</p>
              <div class="dayMeta">çœ‹çœ‹æµ·ï¼Œæ­æ­åˆ—è»Šï¼Œå–å–å’–å•¡</div>
              <div class="pillRow"><span class="pill good">å–®è»Œåˆ—è»Š</span><span class="pill good">å¤œæ™¯</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">
              <li>&#127860 æ—©é¤ : è‡ªç„¶å³¶é¹½å¯é Œ â†’ 9:00ç¬¬ä¸€æ³¢å‡ºçˆã€‚</li>      
              <li>æµ·é›²å°è† å›Šåˆ—è»Š : å°¾æµ¦ç«™ â†’ é’æ²™æµ¦ç«™ã€‚(é ç´„9:30-10:00å ´æ¬¡)</li>
              <li>æµ·é›²å°æµ·å²¸åˆ—è»Š : é’æ²™æµ¦ç«™ â†’ æ¾äº­ç«™ã€‚</li>
              <li>æµ·æ±é¾å®®å¯ºã€‚</li>
              <li>Skyline Luge Busan (?)ã€‚</li>
              <li>æµ·é›²å°æµ·å²¸åˆ—è»Š : æ¾äº­ç«™ â†’ é’æ²™æµ¦ç«™ã€‚ â†’ å¤•é™½ã€‚</li>
              <li>&#127860 åˆé¤ : é“ç†™å®¶çƒ¤è›¤èœŠã€‚</li>
              <li>æµ·é›²å°æµ·å²¸åˆ—è»Š : è¸çŸ³å±•æœ›å°ç«™ â†’ å°¾æµ¦ç«™ã€‚ â†’ å¤•é™½ã€‚</li>
              <li>é‘½çŸ³ç£éŠè‰‡ã€‚</li>
              <li>&#127860 æ™šé¤ : å‘³è´Šç‹é¹½çƒ¤è‚‰ã€‚</li>
              <li>Busan X the SKY â†’ é‡œå±±å¤œæ™¯ã€å…¨çƒæœ€é«˜æ˜Ÿå·´å…‹ã€‚</li>
            </ul>
          </div>
        </details>

        <details>
          <summary>
            <div class="dayBadge">D3</div>
            <div>
              <p class="dayTitle">6/23ï¼ˆäºŒï¼‰é‡œå±±äººæ–‡è‡ªç„¶é¢¨æ™¯ï½œ&#11088 é‡œå±±PASSï½œæµ·é›²å° ç¬¬3æ™š</p>
              <div class="dayMeta">æ‚ æ‚ å“‰å“‰çš„åˆ°è™•èµ°èµ°åœåœ</div>
              <div class="pillRow"><span class="pill">ç‰¹è‰²æµ·é®®</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">        
              <li>ç”˜å·æ´æ–‡åŒ–æ‘ã€‚</li>
              <li>9:00 â†’ å“²ç§€èˆ‡è‹±ç†™éŸ“æœé«”é©—ã€‚ (å†è€ƒæ…®çœ‹çœ‹) </li>
              <li>10:00 â†’ æ‰‹ç¿»æ›¸ (æ‹ä¸€å€‹å¯æ„›çš„å°å†Šå­)ã€‚</li>
              <li>&#127860 åˆé¤ : å¯Œå¹³ç½é ­å¸‚å ´ã€‚</li>
              <li>æ¾å³¶æµ·ä¸Šçºœè»Šã€‚</li>
              <li>æ¾å³¶é¾å®®å¤©ç©ºæ­¥é“ã€‚</li>              
              <li>&#127860 æ™šé¤ : æœ­å˜å…¶å¸‚å ´ã€‚ (åƒå¸ç‹èŸ¹&#129408</li>

            </ul>
          </div>
        </details>

        <details>
          <summary>
            <div class="dayBadge">D4</div>
            <div>
              <p class="dayTitle">6/24ï¼ˆä¸‰ï¼‰ç§Ÿè»Šæ—¥â‘ ï¼šé‡œå±± â†’ æ…¶å·ï½œ&#11088 å‡ºç™¼æ…¶å·å•¦ï½œæ…¶å· ç¬¬1æ™š</p>
              <div class="dayMeta">æ—©ä¸Šå–è»Šå¾Œæ…¢æ…¢æ™ƒåˆ°æ…¶å·å…¥ä½å‚³çµ±éŸ“å±‹ </div>
              <div class="pillRow"><span class="pill warn">ç§Ÿè»Šé–‹å§‹</span><span class="pill good">è·¨åŸå°‘è½‰ä¹˜</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">
              <li>&#127860 æ—©é¤ : Egg Drop æµ·é›²å°åº—ã€‚</li>
              <li>ä¸€æ—©å…ˆå–è»Šå¾Œå›é£¯åº—é€€æˆ¿ã€‚</li>
              <li>å‡ºç™¼æ…¶å· â†’ ä¸­é€”ä¼‘æ¯ç«™ (ç‰¹è‰²å°åƒ&#127871) ã€‚</li>
              <li>ä½›åœ‹å¯ºã€‚</li>
              <li>é£¯åº—check inã€‚(Stay O'on åŒ…æ£ŸéŸ“å±‹)</li>
              <li>&#127860 æ™šé¤ : BOKGILé®‘é­šç²¥ã€‚</li>
              <li>æ±å®®èˆ‡æœˆæ± ã€‚</li>
            </ul>

          </div>
        </details>

        <details>
          <summary>
            <div class="dayBadge">D5</div>
            <div>
              <p class="dayTitle">6/25ï¼ˆå››ï¼‰ç§Ÿè»Šæ—¥â‘¡ï¼šæ…¶å·ä¸–ç•Œéºè·¡ï½œ&#11088 æ­·å²æ–‡åŒ–æ´—ç¦®ï½œæ…¶å· ç¬¬2æ™š</p>
              <div class="dayMeta">é–‹è»Šåˆ°è™•æ¢éšª</div>
              <div class="pillRow"><span class="pill good">å¤œæ™¯ç²¾è¯</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">
              <li>å—éŸ“è‰¯æ´æ°‘ä¿—æ‘ â†’ ä¸–ç•Œæ–‡åŒ–éºç”¢ã€‚</li>
              <li>&#127860 åˆé¤ : ì˜¬ë°”ë¦‡ì‹ë‹¹ (è›¤èœŠæ‹Œé£¯ã€è¾£é¯–é­šæ‹Œé£¯æ­æ¹–æ™¯)ã€‚</li>
              <li>ç»æ˜Ÿè‡ºã€‚</li>
              <li>å¤§é™µè‹‘ã€‚</li>
              <li>&#9749 ä¸‹åˆèŒ¶ : í”„ë¡¬ìƒë¡ (æ°´æœæ³¡èŠ™å’–å•¡å»³)ã€‚</li>
              <li>çš‡è£¡åœ˜è·¯ã€‚</li>
              <li>&#127860 æ™šé¤ : å·¨æ¾æ’éª¨ã€‚ </li>
              <li>æœˆç²¾æ©‹ã€‚</li>
            </ul>
          </div>
        </details>

        <details>
          <summary>
            <div class="dayBadge">D6</div>
            <div>
              <p class="dayTitle">6/26ï¼ˆäº”ï¼‰ç§Ÿè»Šæ—¥â‘¢ï¼šæ…¶å· â†’ é‡œå±±è¥¿é¢ï½œ&#11088 å›åˆ°å¸‚å€å•¦ï½œè¥¿é¢ ç¬¬1æ™š</p>
              <div class="dayMeta"> æ…¢æ…¢å¾æ…¶å·å›é‡œå±±é‚„è»Š â†’ å…¥ä½è¥¿é¢</div>
              <div class="pillRow"><span class="pill warn">é‚„è»Šæ—¥</span><span class="pill good">å›åˆ°é‡œå±±ä¸è¶•</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">
              <li>å‡ºç™¼å›é‡œå±± </li>
              <li>é‚„è»Š â†’ é£¯åº—å¯„æ”¾è¡Œæ/check inã€‚(é‡œå±±è¥¿é¢ç´¢å¡”é£¯åº—)</li>
              <li>&#127860 åˆé¤ : å¾…å®šã€‚</li>
              <li>å¤ªå®—å°Danubiåˆ—è»Š â†’ å°ç«è»Šçœ‹é¢¨æ™¯ã€‚</li>
              <li>&#9749 ä¸‹åˆèŒ¶ : P.ARKã€‚</li>
              <li>ç™½æ·ºå°æ–‡åŒ–æ‘ â†’ é‡œå±±å½±åŸã€‚</li>
              <li>&#127860 æ™šé¤ : æœ­å˜å…¶å¸‚å ´ã€‚ (åƒå¸ç‹èŸ¹&#129408</li>
            </ul>
          </div>
        </details>

        <details>
          <summary>
            <div class="dayBadge">D7</div>
            <div>
              <p class="dayTitle">6/27ï¼ˆå…­ï¼‰é‡œå±±è²·è²·æ—¥ï½œ&#11088 å†è¦‹äº†éŒ¢éŒ¢ï½œè¥¿é¢ ç¬¬2æ™š</p>
              <div class="dayMeta">è¥¿é¢ï¼‹ï¼ˆè¦–é«”åŠ›ï¼‰å—æµ¦æ´äºŒé¸ä¸€</div>
              <div class="pillRow"><span class="pill good">è³¼ç‰©</span><span class="pill">å¸‚å€è¨ˆç¨‹è»Š</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">
              <li>&#127860 åˆé¤/ä¸‹åˆèŒ¶ : å¾…å®šã€‚</li>
              <li>è‹¥ç²¾ç¥å¥½å†åŠ å—æµ¦æ´ï¼›ä¸ç„¶å°±ç•™åœ¨è¥¿é¢æœ€çœåŠ›ã€‚</li>
              <li>æ¾å³¶æµ·ä¸Šçºœè»Šã€‚</li>
              <li>&#127860 æ™šé¤ : å¾…å®šã€‚</li>
              <li>ä»¥è¥¿é¢ç‚ºä¸»ï¼šé€›è¡—ã€è£œè²¨ã€ä¼´æ‰‹ç¦®ã€‚</li>
            </ul>
          </div>
        </details>

        <details>
          <summary>
            <div class="dayBadge">D8</div>
            <div>
              <p class="dayTitle">6/28ï¼ˆæ—¥ï¼‰å›ç¨‹æ—¥ï½œ&#11088 å¿«æ¨‚å›å®¶å•¦ï½œ19:10 èµ·é£›</p>
              <div class="dayMeta">ç™½å¤©æ”¾é¬† â†’ 16:00 å·¦å³å‡ºç™¼å»æ©Ÿå ´</div>
              <div class="pillRow"><span class="pill good">ä¸è¶•é£›æ©Ÿ</span><span class="pill warn">é ç•™è»Šæ½®</span></div>
            </div>
          </summary>
          <div class="dayBody">
            <ul class="bullets">
              <li>ç™½å¤©ï¼šè¥¿é¢é™„è¿‘å’–å•¡/æœ€å¾Œæ¡è²·ã€‚</li>
              <li>&#127860 åˆé¤/ä¸‹åˆèŒ¶ : å¾…å®šã€‚</li>
              <li>ä¸‹åˆï¼šè¨ˆç¨‹è»Š/æ¥é€åˆ°æ©Ÿå ´(?)ã€‚</li>
            </ul>
          </div>
        </details>


      </section>

      <aside class="card">
        <h2>å¿«é€Ÿå‚™å¿˜</h2>
        <div class="body">
          <div class="twoCol">
            <div class="kv">
              <div class="k">äº¤é€šåˆ†å·¥</div>
              <div class="v"><b>å¸‚å€ï¼š</b>å¸‚å€è¨ˆç¨‹è»Š<br><b>è·¨åŸ/æ…¶å·ï¼š</b>ç§Ÿè»Š 3 å¤©</div>
            </div>
            <div class="kv">
              <div class="k">é•·è¼©å‹å–„é—œéµ</div>
              <div class="v">æ¯å¤© 1â€“2 å€<br>ä¸‹åˆå›ºå®šä¼‘æ¯æ®µ<br>è·¨åŸæ—¥ä¸å¡æ»¿</div>
            </div>
          </div>
          <div class="sep"></div>
          <div class="notice ok">è¡Œç¨‹åªæ˜¯æ¦‚ä¼°ï¼Œéš¨æ™‚å¯ä»¥æ›´å‹•å”·~&#128150</div>
        </div>
        <div class="foot">é–‹å¿ƒå‡ºéŠï¼Œå®‰å…¨å›å®¶!  &#128513	&#128147</div>
      </aside>
    </div>
  </section>

  <!-- PAGE 2: EXPENSES -->
  <section class="page" id="page-expenses">
    <div class="expense-grid">
      <section class="card">
        <h2>è²»ç”¨æ˜ç´°ï¼ˆè¨˜å¸³ç”¨ï¼‰<span class="muted small">å¯å¡«ä»˜æ¬¾äººï½œç§Ÿè»Š/å¸‚å€è¨ˆç¨‹è»Šåˆ†é–‹å°è¨ˆ</span></h2>
        <div class="body">
          <div class="twoCol">
            <div class="kv">
              <div class="k">äººæ•¸ï¼ˆåªç”¨ä¾†ç®—ã€Œæ¯äººå¹³å‡ã€ï¼‰</div>
              <div class="v"><input id="peopleCount" type="number" min="1" value="6" /></div>
            </div>
            <div class="kv">
              <div class="k">å¹£åˆ¥é¡¯ç¤º</div>
              <div class="v">
                <select id="currency">
                  <option value="â‚©">â‚© éŸ“å…ƒ</option>
                  <option value="NT$">NT$ å°å¹£</option>
                </select>
              </div>
            </div>
          </div>

          <div class="sep"></div>

          <div class="kv">
            <div class="k">æ–°å¢ä¸€ç­†è²»ç”¨</div>
            <div class="v">
              <div class="twoCol" style="gap:10px">
                <div>
                  <label class="small muted">æ—¥æœŸ</label>
                  <input id="expDate" type="date" />
                </div>
                <div>
                  <label class="small muted">ä»˜æ¬¾äºº</label>
                  <input id="expPayer" type="text" placeholder="ä¾‹å¦‚ï¼šæˆ‘ / ç‘œå©· / åª½åª½" />
                </div>
              </div>

              <div class="twoCol" style="gap:10px; margin-top:10px;">
                <div>
                  <label class="small muted">åˆ†é¡ï¼ˆäº¤é€šç´°åˆ†ï¼‰</label>
                  <select id="expCat">
                    <option>äº¤é€š-å¸‚å€è¨ˆç¨‹è»Š</option>
                    <option>äº¤é€š-ç§Ÿè»Š</option>
                    <option>äº¤é€š-å…¶ä»–</option>
                    <option>ä½å®¿</option>
                    <option>é¤é£²</option>
                    <option>é–€ç¥¨/é«”é©—</option>
                    <option>è³¼ç‰©</option>
                    <option>æ©Ÿç¥¨</option>
                    <option>å…¶ä»–</option>
                  </select>
                </div>
                <div>
                  <label class="small muted">é‡‘é¡</label>
                  <input id="expAmount" type="number" min="0" step="1" placeholder="é‡‘é¡" />
                </div>
              </div>

              <div style="margin-top:10px;">
                <label class="small muted">èªªæ˜</label>
                <input id="expNote" type="text" placeholder="ä¾‹å¦‚ï¼šç§Ÿè»ŠD4å–è»Š(é‡œå±±) / é‚„è»ŠD6(é‡œå±±) / æµ·é›²å°â†’å»£å®‰é‡Œè¨ˆç¨‹è»Š" />
              </div>

              <div class="row" style="margin-top:10px;">
                <button class="btn primary" id="addExpense">ï¼‹ åŠ å…¥</button>
                <button class="btn" id="addSample">å¡«å…¥ç¯„ä¾‹</button>
                <button class="btn bad" id="clearAll">æ¸…ç©ºå…¨éƒ¨</button>
              </div>
            </div>
          </div>

          <div class="sep"></div>

          <div class="kvs">
            <div class="kv"><div class="k">ç¸½è²»ç”¨</div><div class="v mono" id="sumTotal">â‚©0</div></div>
            <div class="kv"><div class="k">æ¯äººå¹³å‡</div><div class="v mono" id="sumPerPerson">â‚©0</div></div>
            <div class="kv"><div class="k">å¸‚å€è¨ˆç¨‹è»Šå°è¨ˆ</div><div class="v mono" id="sumTaxi">â‚©0</div></div>
            <div class="kv"><div class="k">ç§Ÿè»Šå°è¨ˆ</div><div class="v mono" id="sumRental">â‚©0</div></div>
            <div class="kv"><div class="k">ä½å®¿å°è¨ˆ</div><div class="v mono" id="sumHotel">â‚©0</div></div>
            <div class="kv"><div class="k">é¤é£²å°è¨ˆ</div><div class="v mono" id="sumFood">â‚©0</div></div>
            <div class="kv"><div class="k">é–€ç¥¨/é«”é©—å°è¨ˆ</div><div class="v mono" id="sumTicket">â‚©0</div></div>
            <div class="kv"><div class="k">æ©Ÿç¥¨å°è¨ˆ</div><div class="v mono" id="sumFlight">â‚©0</div></div>
          </div>

          <div class="sep"></div>

          <div class="row">
            <button class="btn good" id="exportJson">åŒ¯å‡ºå‚™ä»½ï¼ˆJSONï¼‰</button>
            <label class="btn" style="cursor:pointer;">
              åŒ¯å…¥å‚™ä»½
              <input id="importJson" type="file" accept="application/json" style="display:none;">
            </label>
          </div>

          <div class="sep"></div>

          <h3 style="margin:0 0 10px; font-size:14px;">æ˜ç´°åˆ—è¡¨</h3>
          <table>
            <thead>
              <tr>
                <th class="nowrap">æ—¥æœŸ</th>
                <th class="nowrap">ä»˜æ¬¾äºº</th>
                <th class="nowrap">åˆ†é¡</th>
                <th>èªªæ˜</th>
                <th class="right nowrap">é‡‘é¡</th>
                <th class="center nowrap">åˆªé™¤</th>
              </tr>
            </thead>
            <tbody id="expenseTbody"></tbody>
          </table>

          <div class="foot">ğŸ”’ è³‡æ–™å­˜åœ¨æ­¤ç€è¦½å™¨ã€‚æ›æ‰‹æ©Ÿ/é›»è…¦å‰è¨˜å¾—å…ˆã€ŒåŒ¯å‡ºå‚™ä»½ã€ã€‚</div>
        </div>
      </section>


    </div>
  </section>

<!-- PAGE: FLIGHTS -->
<section class="page" id="page-flights">
  <div class="grid">
    <section class="card">
      <h2>âœˆï¸ ç­æ©Ÿè©³ç´°è³‡è¨Š</h2>
      <div class="body">

        <div class="notice ok">
          æ¯äººå¯æ”œå¸¶23kgè¨—é‹å¤§è¡Œæï¼Œ7kgéš¨èº«å°è¡Œæã€‚
        </div>

        <div class="sep"></div>

        <h3 style="margin:0 0 10px;">&#127775å»ç¨‹ï½œå°åŒ— â†’ é‡œå±±</h3>
        <div class="kvs">
          <div class="kv"><div class="k">æ—¥æœŸ</div><div class="v"><input value="2026/06/21ï¼ˆæ—¥ï¼‰"></div></div>
          <div class="kv"><div class="k">èˆªç­</div><div class="v"><input value="EVA AIR BR 164"></div></div>

          <div class="kv"><div class="k">å‡ºç™¼</div><div class="v"><input value="TPE æ¡ƒåœ’ T2 14:40"></div></div>
          <div class="kv"><div class="k">æŠµé”</div><div class="v"><input value="PUS é‡‘æµ· T1 18:00"></div></div>

          <div class="kv"><div class="k">é£›è¡Œæ™‚é–“</div><div class="v"><input value="2 å°æ™‚ 20 åˆ†"></div></div>
          <div class="kv"><div class="k">æ©Ÿå‹</div><div class="v"><input value="Airbus A321"></div></div>

          <div class="kv"><div class="k">è‰™ç­‰</div><div class="v"><input value="ç¶“æ¿Ÿè‰™ / Basic"></div></div>
          <div class="kv"><div class="k">è¨‚ä½è‰™ç­‰ä»£ç¢¼</div><div class="v"><input value="V"></div></div>
        </div>

        <div class="sep"></div>

        <h3 style="margin:0 0 10px;">&#127775å›ç¨‹ï½œé‡œå±± â†’ å°åŒ—</h3>
        <div class="kvs">
          <div class="kv"><div class="k">æ—¥æœŸ</div><div class="v"><input value="2026/06/28ï¼ˆæ—¥ï¼‰"></div></div>
          <div class="kv"><div class="k">èˆªç­</div><div class="v"><input value="EVA AIR BR 163"></div></div>

          <div class="kv"><div class="k">å‡ºç™¼</div><div class="v"><input value="PUS é‡‘æµ· T1 19:10"></div></div>
          <div class="kv"><div class="k">æŠµé”</div><div class="v"><input value="TPE æ¡ƒåœ’ T2 20:35"></div></div>

          <div class="kv"><div class="k">é£›è¡Œæ™‚é–“</div><div class="v"><input value="2 å°æ™‚ 25 åˆ†"></div></div>
          <div class="kv"><div class="k">æ©Ÿå‹</div><div class="v"><input value="Airbus A321"></div></div>

          <div class="kv"><div class="k">è‰™ç­‰</div><div class="v"><input value="ç¶“æ¿Ÿè‰™ / Basic"></div></div>
          <div class="kv"><div class="k">è¨‚ä½è‰™ç­‰ä»£ç¢¼</div><div class="v"><input value="V"></div></div>
        </div>

        <div class="sep"></div>

        <h3>å‚™è¨»</h3>
        <textarea placeholder="å¯å¡«ï¼šè¨‚ä½ä»£è™Ÿã€è¡Œæå…¬æ–¤æ•¸ã€å ±åˆ°æ™‚é–“ã€å®¢æœé›»è©±â€¦"></textarea>

      </div>
    </section>

    <aside class="card">
      <h2>â° ç•¶å¤©æé†’</h2>
      <div class="body">
        <div class="notice">
          å»ç¨‹ 14:40 èµ·é£›ï¼Œé ä¼° 12:00â€“12:30 æŠµé”æ¡ƒåœ’æ©Ÿå ´ã€‚
        </div>
        <div class="sep"></div>
        <div class="notice ok">
          å›ç¨‹ 19:10 èµ·é£›ï¼Œé ä¼° 16:30â€“17:00 æŠµé”é‡‘æµ·æ©Ÿå ´ã€‚
        </div>
      </div>
    </aside>
  </div>
</section>



</main>

<script>
  // Tabs
  const tabs = Array.from(document.querySelectorAll('.tab'));
  const pages = Array.from(document.querySelectorAll('.page'));
  function openPage(pageId){
    pages.forEach(p => p.classList.toggle('active', p.id === pageId));
    tabs.forEach(t => {
      const active = t.dataset.page === pageId;
      t.classList.toggle('active', active);
      t.setAttribute('aria-selected', active ? 'true' : 'false');
    });
    const isItinerary = (pageId === 'page-itinerary');
    document.getElementById('expandAll').style.display = isItinerary ? '' : 'none';
    document.getElementById('collapseAll').style.display = isItinerary ? '' : 'none';
  }
  tabs.forEach(t => t.addEventListener('click', () => openPage(t.dataset.page)));

  // Itinerary controls
  const detailsList = () => Array.from(document.querySelectorAll('#page-itinerary details'));
  document.getElementById('expandAll').addEventListener('click', () => detailsList().forEach(d => d.open = true));
  document.getElementById('collapseAll').addEventListener('click', () => detailsList().forEach(d => d.open = false));
  document.getElementById('print').addEventListener('click', () => window.print());

  // Expenses storage
  const STORE_KEY = 'busan_trip_2026_expenses_v2';

  /**
   * Expense: {date, payer, cat, note, amount}
   */
  function formatMoney(symbol, n){
    const v = Number.isFinite(n) ? n : 0;
    return symbol + v.toLocaleString('en-US', {maximumFractionDigits: 2});
  }
  function todayISO(){
    const d = new Date();
    const tz = d.getTimezoneOffset() * 60000;
    return new Date(d.getTime() - tz).toISOString().slice(0,10);
  }
  function loadState(){
    try{
      const raw = localStorage.getItem(STORE_KEY);
      if(!raw) return { people: 6, currency: 'â‚©', items: [] };
      const parsed = JSON.parse(raw);
      return {
        people: Number(parsed.people) || 6,
        currency: typeof parsed.currency === 'string' ? parsed.currency : 'â‚©',
        items: Array.isArray(parsed.items) ? parsed.items : []
      };
    }catch{
      return { people: 6, currency: 'â‚©', items: [] };
    }
  }
  function saveState(state){ localStorage.setItem(STORE_KEY, JSON.stringify(state)); }

  let state = loadState();

  // Bind inputs
  const peopleCountEl = document.getElementById('peopleCount');
  const currencyEl = document.getElementById('currency');
  const expDateEl = document.getElementById('expDate');
  const expPayerEl = document.getElementById('expPayer');
  const expCatEl = document.getElementById('expCat');
  const expNoteEl = document.getElementById('expNote');
  const expAmountEl = document.getElementById('expAmount');
  const tbodyEl = document.getElementById('expenseTbody');

  function setDefaults(){
    peopleCountEl.value = String(state.people);
    currencyEl.value = state.currency;
    expDateEl.value = todayISO();
  }
  setDefaults();

  function computeSums(items){
    const sums = {
      total: 0,
      perPerson: 0,
      taxi: 0,
      rental: 0,
      hotel: 0,
      food: 0,
      ticket: 0,
      flight: 0
    };
    for(const it of items){
      const amt = Number(it.amount) || 0;
      sums.total += amt;

      if(it.cat === 'äº¤é€š-å¸‚å€è¨ˆç¨‹è»Š') sums.taxi += amt;
      else if(it.cat === 'äº¤é€š-ç§Ÿè»Š') sums.rental += amt;
      else if(it.cat === 'ä½å®¿') sums.hotel += amt;
      else if(it.cat === 'é¤é£²') sums.food += amt;
      else if(it.cat === 'é–€ç¥¨/é«”é©—') sums.ticket += amt;
      else if(it.cat === 'æ©Ÿç¥¨') sums.flight += amt;
    }
    const ppl = Math.max(1, Number(state.people) || 6);
    sums.perPerson = sums.total / ppl;
    return sums;
  }

  function render(){
    tbodyEl.innerHTML = '';
    const sym = state.currency;

    state.items
      .slice()
      .sort((a,b) => (a.date || '').localeCompare(b.date || ''))
      .forEach((it) => {
        const tr = document.createElement('tr');

        const tdDate = document.createElement('td'); tdDate.className = 'nowrap'; tdDate.textContent = it.date || '';
        const tdPayer = document.createElement('td'); tdPayer.className = 'nowrap'; tdPayer.textContent = it.payer || '';
        const tdCat = document.createElement('td'); tdCat.className = 'nowrap'; tdCat.textContent = it.cat || '';
        const tdNote = document.createElement('td'); tdNote.textContent = it.note || '';
        const tdAmt = document.createElement('td'); tdAmt.className = 'right nowrap mono'; tdAmt.textContent = formatMoney(sym, Number(it.amount) || 0);

        const tdDel = document.createElement('td'); tdDel.className = 'center';
        const delBtn = document.createElement('button');
        delBtn.className = 'btn bad';
        delBtn.style.padding = '6px 10px';
        delBtn.textContent = 'åˆª';
        delBtn.addEventListener('click', () => {
          const idx = state.items.findIndex(x =>
            x.date===it.date && x.payer===it.payer && x.cat===it.cat && x.note===it.note && Number(x.amount)===Number(it.amount)
          );
          if(idx >= 0) state.items.splice(idx, 1);
          saveState(state);
          render();
        });
        tdDel.appendChild(delBtn);

        tr.append(tdDate, tdPayer, tdCat, tdNote, tdAmt, tdDel);
        tbodyEl.appendChild(tr);
      });

    const sums = computeSums(state.items);
    document.getElementById('sumTotal').textContent = formatMoney(sym, sums.total);
    document.getElementById('sumPerPerson').textContent = formatMoney(sym, sums.perPerson);
    document.getElementById('sumTaxi').textContent = formatMoney(sym, sums.taxi);
    document.getElementById('sumRental').textContent = formatMoney(sym, sums.rental);
    document.getElementById('sumHotel').textContent = formatMoney(sym, sums.hotel);
    document.getElementById('sumFood').textContent = formatMoney(sym, sums.food);
    document.getElementById('sumTicket').textContent = formatMoney(sym, sums.ticket);
    document.getElementById('sumFlight').textContent = formatMoney(sym, sums.flight);

  }
  render();

  peopleCountEl.addEventListener('change', () => {
    state.people = Math.max(1, Number(peopleCountEl.value) || 6);
    saveState(state);
    render();
  });
  currencyEl.addEventListener('change', () => {
    state.currency = currencyEl.value;
    saveState(state);
    render();
  });

  document.getElementById('addExpense').addEventListener('click', () => {
    const date = expDateEl.value || todayISO();
    const payer = (expPayerEl.value || '').trim();
    const cat = expCatEl.value || 'å…¶ä»–';
    const note = (expNoteEl.value || '').trim();
    const amount = Number(expAmountEl.value);

    if(!Number.isFinite(amount) || amount < 0){
      alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„é‡‘é¡ï¼ˆ>= 0ï¼‰');
      return;
    }
    state.items.push({date, payer, cat, note, amount});
    saveState(state);

    expNoteEl.value = '';
    expAmountEl.value = '';
    render();
  });

  document.getElementById('addSample').addEventListener('click', () => {
    const sample = [
      {date:'2026-06-21', payer:'é˜¿å§¨', cat:'äº¤é€š-å¸‚å€è¨ˆç¨‹è»Š', note:'æ©Ÿå ´â†’æµ·é›²å°ï¼ˆå¤§å‹è¨ˆç¨‹è»Šï¼‰', amount:80000},
      {date:'2026-06-24', payer:'æˆ‘', cat:'äº¤é€š-ç§Ÿè»Š', note:'ç§Ÿè»Š 3å¤©ï¼ˆD4å–è»Šâ†’D6é‚„è»Šï¼‰', amount:350000},
      {date:'2026-06-25', payer:'è¡¨å“¥', cat:'é–€ç¥¨/é«”é©—', note:'æ±å®®èˆ‡æœˆæ±  é–€ç¥¨', amount:30000},
      {date:'2026-06-26', payer:'æˆ‘', cat:'äº¤é€š-ç§Ÿè»Š', note:'æ²¹è²»/åœè»Šï¼ˆå¯æ‹†æ›´å¤šç­†ï¼‰', amount:70000},
      {date:'2026-06-28', payer:'é˜¿å§¨', cat:'äº¤é€š-å¸‚å€è¨ˆç¨‹è»Š', note:'è¥¿é¢â†’æ©Ÿå ´', amount:80000}
    ];
    state.items = state.items.concat(sample);
    saveState(state);
    render();
    openPage('page-expenses');
  });

  document.getElementById('clearAll').addEventListener('click', () => {
    if(confirm('ç¢ºå®šè¦æ¸…ç©ºå…¨éƒ¨è²»ç”¨æ˜ç´°å—ï¼Ÿï¼ˆå¯å…ˆåŒ¯å‡ºå‚™ä»½ï¼‰')){
      state.items = [];
      saveState(state);
      render();
    }
  });

  document.getElementById('exportJson').addEventListener('click', () => {
    const blob = new Blob([JSON.stringify(state, null, 2)], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'busan_trip_expenses_backup.json';
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  });

  document.getElementById('importJson').addEventListener('change', async (e) => {
    const file = e.target.files && e.target.files[0];
    if(!file) return;
    try{
      const text = await file.text();
      const obj = JSON.parse(text);
      state = {
        people: Number(obj.people) || 6,
        currency: typeof obj.currency === 'string' ? obj.currency : 'â‚©',
        items: Array.isArray(obj.items) ? obj.items : []
      };
      saveState(state);
      setDefaults();
      render();
      openPage('page-expenses');
      alert('åŒ¯å…¥å®Œæˆï¼');
    }catch{
      alert('åŒ¯å…¥å¤±æ•—ï¼šæª”æ¡ˆæ ¼å¼ä¸æ­£ç¢ºã€‚');
    }finally{
      e.target.value = '';
    }
  });

  openPage('page-itinerary');
</script>
</body>
</html>






